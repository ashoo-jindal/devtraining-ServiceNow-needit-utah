<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function($scope, spModal) {
  /* widget controller */
  var c = this;
	
	$scope.$on("field.change", function(evt, parms){
		if (parms.field.name == 'user' && parms.newValue){
			//console.log('User Changed: ', parms.newValue);
			//alert('User Changed: '+parms.newValue);
			spModal.alert('Field Change Function: newValue = '+parms.newValue);
		}
	});
	
	$scope.changed = function(){
  		//console.log('User Changed');
		  //alert('On Change');
			spModal.alert('On-Change Function: New Value = ' + c.data.user.value);
	}
	
	
};]]></client_script>
        <controller_as>c</controller_as>
        <css/>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description>Simple Reference field Record Picker Template &#13;
&lt;sn-record-picker&gt;</description>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>record_picker_aj</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {
  
}]]></link>
        <name>Record Picker - AJ</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */
	
	data.user = {
		value: '',
		displayValue: '',
		name: 'user',
		table: 'sys_user',
		defaultQuery: 'active=true',
		valueField: 'email',
		displayFields: 'name,email',
		searchFields: 'name,email'
	}
	
	
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-10-12 11:22:23</sys_created_on>
        <sys_id>76cfa0de477531100230afb8036d436a</sys_id>
        <sys_mod_count>35</sys_mod_count>
        <sys_name>Record Picker - AJ</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sp_widget_76cfa0de477531100230afb8036d436a</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-10-12 13:00:25</sys_updated_on>
        <template><![CDATA[<div>
<!-- your widget template -->
  <h1>Record Picker Demo</h1>
  <h4>Pick a user:</h4>
  
  
  <!--
    Property: Description
    field        : a JavaScript object consisting of “displayValue”, “value” and “name”
    table        : the table to pull records from
    default-query: the query to apply to the table
    value-field  : the value field (usually sys_id)
    display-fields:	the fields to display
    search-fields : the fields to search
    page-size     : number of records to display in dropdown
  -->
  
  <sn-record-picker field='data.user'
                    table='data.user.table'
                    default-query='data.user.defaultQuery'
                    value-field='data.user.valueField'
                    display-fields='data.user.displayFields'
                    search-fields='data.user.searchFields'
                    multiple='true'
                    page-size='5'
                    on-change='changed()'>
  </sn-record-picker>
  
</div>]]></template>
    </sp_widget>
</record_update>
